{"ast":null,"code":"// reducers/serviceReducer.js\n\nimport { loadState, saveState } from '../../utils/localStorage';\nconst initialState = loadState() || {\n  services: []\n};\nconst servicesReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"ADD_SERVICE\":\n      const item = action.payload;\n      const serviceIndex = state.services.findIndex(serv => serv.id === item.id);\n      if (serviceIndex !== -1) {\n        state.services[serviceIndex].qty += 1;\n      } else {\n        state.services.push({\n          ...item,\n          qty: 1\n        });\n      }\n      saveState({\n        ...state\n      });\n      return {\n        ...state\n      };\n    case \"REMOVE_SERVICE\":\n      const delItem = action.payload;\n      const delServiceIndex = state.services.findIndex(serv => serv.id === delItem.id);\n      if (delServiceIndex !== -1) {\n        state.services[delServiceIndex].qty -= 1;\n        if (state.services[delServiceIndex].qty === 0) {\n          state.services.splice(delServiceIndex, 1);\n        }\n      }\n      saveState({\n        ...state\n      });\n      return {\n        ...state\n      };\n    default:\n      return state;\n  }\n};\nexport default servicesReducer;","map":{"version":3,"names":["loadState","saveState","initialState","services","servicesReducer","state","action","type","item","payload","serviceIndex","findIndex","serv","id","qty","push","delItem","delServiceIndex","splice"],"sources":["/Users/darynafesyk/Desktop/React_E-Commerce-jewelry/src/redux/reducer/serviceReducer.js"],"sourcesContent":["// reducers/serviceReducer.js\n\nimport { loadState, saveState } from '../../utils/localStorage';\n\nconst initialState = loadState() || { services: [] };\n\nconst servicesReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"ADD_SERVICE\":\n      const item = action.payload;\n      const serviceIndex = state.services.findIndex(serv => serv.id === item.id);\n      if (serviceIndex !== -1) {\n        state.services[serviceIndex].qty += 1;\n      } else {\n        state.services.push({ ...item, qty: 1 });\n      }\n      saveState({ ...state });\n      return { ...state };\n\n    case \"REMOVE_SERVICE\":\n      const delItem = action.payload;\n      const delServiceIndex = state.services.findIndex(serv => serv.id === delItem.id);\n      if (delServiceIndex !== -1) {\n        state.services[delServiceIndex].qty -= 1;\n        if (state.services[delServiceIndex].qty === 0) {\n          state.services.splice(delServiceIndex, 1);\n        }\n      }\n      saveState({ ...state });\n      return { ...state };\n\n    default:\n      return state;\n  }\n};\n\nexport default servicesReducer;\n\n  "],"mappings":"AAAA;;AAEA,SAASA,SAAS,EAAEC,SAAS,QAAQ,0BAA0B;AAE/D,MAAMC,YAAY,GAAGF,SAAS,CAAC,CAAC,IAAI;EAAEG,QAAQ,EAAE;AAAG,CAAC;AAEpD,MAAMC,eAAe,GAAGA,CAACC,KAAK,GAAGH,YAAY,EAAEI,MAAM,KAAK;EACxD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,aAAa;MAChB,MAAMC,IAAI,GAAGF,MAAM,CAACG,OAAO;MAC3B,MAAMC,YAAY,GAAGL,KAAK,CAACF,QAAQ,CAACQ,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKL,IAAI,CAACK,EAAE,CAAC;MAC1E,IAAIH,YAAY,KAAK,CAAC,CAAC,EAAE;QACvBL,KAAK,CAACF,QAAQ,CAACO,YAAY,CAAC,CAACI,GAAG,IAAI,CAAC;MACvC,CAAC,MAAM;QACLT,KAAK,CAACF,QAAQ,CAACY,IAAI,CAAC;UAAE,GAAGP,IAAI;UAAEM,GAAG,EAAE;QAAE,CAAC,CAAC;MAC1C;MACAb,SAAS,CAAC;QAAE,GAAGI;MAAM,CAAC,CAAC;MACvB,OAAO;QAAE,GAAGA;MAAM,CAAC;IAErB,KAAK,gBAAgB;MACnB,MAAMW,OAAO,GAAGV,MAAM,CAACG,OAAO;MAC9B,MAAMQ,eAAe,GAAGZ,KAAK,CAACF,QAAQ,CAACQ,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKG,OAAO,CAACH,EAAE,CAAC;MAChF,IAAII,eAAe,KAAK,CAAC,CAAC,EAAE;QAC1BZ,KAAK,CAACF,QAAQ,CAACc,eAAe,CAAC,CAACH,GAAG,IAAI,CAAC;QACxC,IAAIT,KAAK,CAACF,QAAQ,CAACc,eAAe,CAAC,CAACH,GAAG,KAAK,CAAC,EAAE;UAC7CT,KAAK,CAACF,QAAQ,CAACe,MAAM,CAACD,eAAe,EAAE,CAAC,CAAC;QAC3C;MACF;MACAhB,SAAS,CAAC;QAAE,GAAGI;MAAM,CAAC,CAAC;MACvB,OAAO;QAAE,GAAGA;MAAM,CAAC;IAErB;MACE,OAAOA,KAAK;EAChB;AACF,CAAC;AAED,eAAeD,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}